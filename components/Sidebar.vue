
<template>
  <aside class="w-64 bg-gray-50 border-r h-full flex flex-col">
    <nav class="flex-1 px-2 py-4 space-y-1">
      <SidebarLink icon="Home" text="Home" href="/" />
      <SidebarLink icon="User" text="à¸£à¸²à¸¢à¸‡à¸²à¸™à¸ˆà¸³à¸™à¸§à¸™à¸§à¸±à¸ªà¸”à¸¸" href="/materials/manage" />

      <!-- à¸¥à¸´à¸‡à¸à¹Œà¸‚à¸­à¹€à¸šà¸´à¸à¸§à¸±à¸ªà¸”à¸¸ (Admin/Supervisor à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™) -->
     <SidebarLink
  v-if="currentUser && ['admin','supervisor'].includes(currentUser.role)"
  icon="clipboard"
  text="à¹€à¸šà¸´à¸à¸§à¸±à¸ªà¸”à¸¸à¹‚à¸”à¸¢à¸œà¸¹à¹‰à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸š"
  href="/requests/manual"
/>

      <SidebarLink icon="PlusSquare" text="à¸£à¸²à¸¢à¸‡à¸²à¸™à¸§à¸±à¸ªà¸”à¸¸à¸•à¹ˆà¸³à¸à¸§à¹ˆà¸²à¸ˆà¸¸à¸”à¸ªà¸±à¹ˆà¸‡à¸‹à¸·à¹‰à¸­" href="/enroll" />
      <SidebarLink icon="Package" text="Inventory" href="/inventory" />

      <SidebarLink icon="LogOut" text="à¸­à¸­à¸à¸ˆà¸²à¸à¸£à¸°à¸šà¸š" href="/logout" />
    </nav>
  </aside>
</template>

<script setup lang="ts">
import SidebarLink from './SidebarLink.vue'
import { useState } from '#imports'
interface User { username: string; role: string }
const currentUser = useState<User|null>('currentUser', () => null)
onMounted(() => {
  console.log('ðŸ’¡ sidebar sees currentUser =', currentUser.value)
})
</script>
